# American Nerd Marketplace - Fullstack Architecture Document

## Table of Contents

- [American Nerd Marketplace - Fullstack Architecture Document](#table-of-contents)
  - [Table of Contents](./table-of-contents.md)
  - [Change Log](./change-log.md)
  - [1. Introduction](./1-introduction.md)
    - [Project Overview](./1-introduction.md#project-overview)
    - [Technical Approach](./1-introduction.md#technical-approach)
    - [Starter Template](./1-introduction.md#starter-template)
  - [2. High Level Architecture](./2-high-level-architecture.md)
    - [2.1 Technical Summary](./2-high-level-architecture.md#21-technical-summary)
    - [2.2 Platform and Infrastructure Choice](./2-high-level-architecture.md#22-platform-and-infrastructure-choice)
    - [2.3 Repository Structure](./2-high-level-architecture.md#23-repository-structure)
    - [2.4 Architecture Diagram](./2-high-level-architecture.md#24-architecture-diagram)
    - [2.5 Architectural Patterns](./2-high-level-architecture.md#25-architectural-patterns)
  - [3. Tech Stack](./3-tech-stack.md)
  - [4. Data Models](./4-data-models.md)
    - [4.1 User](./4-data-models.md#41-user)
    - [4.2 Project](./4-data-models.md#42-project)
    - [4.3 Opportunity](./4-data-models.md#43-opportunity)
    - [4.4 Bid](./4-data-models.md#44-bid)
    - [4.5 Story](./4-data-models.md#45-story)
    - [4.6 Deliverable](./4-data-models.md#46-deliverable)
    - [4.7 Escrow](./4-data-models.md#47-escrow)
    - [4.8 Document](./4-data-models.md#48-document)
    - [4.9 Rating](./4-data-models.md#49-rating)
    - [4.10 Supporting Models](./4-data-models.md#410-supporting-models)
  - [5. API Specification](./5-api-specification.md)
    - [5.1 OpenAPI Specification (Excerpt)](./5-api-specification.md#51-openapi-specification-excerpt)
  - [6. Components and Services](./6-components-and-services.md)
    - [6.1 Frontend Components (Next.js)](./6-components-and-services.md#61-frontend-components-nextjs)
      - [OpportunityCard](./6-components-and-services.md#opportunitycard)
      - [StoryReviewPage](./6-components-and-services.md#storyreviewpage)
      - [BidForm](./6-components-and-services.md#bidform)
      - [ProjectDashboard](./6-components-and-services.md#projectdashboard)
    - [6.2 Backend Services (Express.js)](./6-components-and-services.md#62-backend-services-expressjs)
      - [OpportunityService](./6-components-and-services.md#opportunityservice)
      - [StoryService](./6-components-and-services.md#storyservice)
      - [PRValidationService](./6-components-and-services.md#prvalidationservice)
      - [GitHubScaffoldingService](./6-components-and-services.md#githubscaffoldingservice)
      - [EscrowService](./6-components-and-services.md#escrowservice)
    - [6.3 MCP Server (FastMCP)](./6-components-and-services.md#63-mcp-server-fastmcp)
    - [6.4 Smart Contracts](./6-components-and-services.md#64-smart-contracts)
      - [Escrow.sol (Polygon)](./6-components-and-services.md#escrowsol-polygon)
      - [escrow.rs (Solana)](./6-components-and-services.md#escrowrs-solana)
  - [7. External APIs](./7-external-apis.md)
    - [7.1 GitHub API](./7-external-apis.md#71-github-api)
    - [7.2 Alchemy API (Polygon)](./7-external-apis.md#72-alchemy-api-polygon)
    - [7.4 Helius API (Solana)](./7-external-apis.md#74-helius-api-solana)
    - [7.5 Supabase Storage API](./7-external-apis.md#75-supabase-storage-api)
    - [7.6 BMAD GitHub Workflow Integration](./7-external-apis.md#76-bmad-github-workflow-integration)
  - [8. Core Workflows](./8-core-workflows.md)
    - [8.1 Client Creates Project via MCP](./8-core-workflows.md#81-client-creates-project-via-mcp)
    - [8.2 Expert Bids on Opportunity](./8-core-workflows.md#82-expert-bids-on-opportunity)
    - [8.3 Dev Submits PR for Story](./8-core-workflows.md#83-dev-submits-pr-for-story)
    - [8.4 QA Approves Story and Platform Auto-Merges](./8-core-workflows.md#84-qa-approves-story-and-platform-auto-merges)
    - [8.5 Escrow Release (Crypto)](./8-core-workflows.md#85-escrow-release-crypto)
    - [8.6 Complete BMAD Story Lifecycle (PM → Dev → QA)](./8-core-workflows.md#86-complete-bmad-story-lifecycle-pm-dev-qa)
    - [8.7 BMAD Story Lifecycle with QA Rework (FAIL → Fix → PASS)](./8-core-workflows.md#87-bmad-story-lifecycle-with-qa-rework-fail-fix-pass)
  - [9. Database Schema](./9-database-schema.md)
  - [10. Frontend Architecture](./10-frontend-architecture.md)
    - [10.1 Framework and Core Libraries](./10-frontend-architecture.md#101-framework-and-core-libraries)
    - [10.2 Component Organization](./10-frontend-architecture.md#102-component-organization)
    - [10.3 State Management](./10-frontend-architecture.md#103-state-management)
    - [10.4 Routing and Navigation](./10-frontend-architecture.md#104-routing-and-navigation)
    - [10.5 Services Layer (API Client)](./10-frontend-architecture.md#105-services-layer-api-client)
  - [11. Backend Architecture](./11-backend-architecture.md)
    - [11.1 Service Architecture (Express.js)](./11-backend-architecture.md#111-service-architecture-expressjs)
    - [11.2 Database Architecture](./11-backend-architecture.md#112-database-architecture)
    - [11.3 Authentication and Authorization](./11-backend-architecture.md#113-authentication-and-authorization)
  - [12. Unified Project Structure](./12-unified-project-structure.md)
  - [13. Development Workflow](./13-development-workflow.md)
    - [13.1 Local Development Setup](./13-development-workflow.md#131-local-development-setup)
    - [13.2 Environment Configuration](./13-development-workflow.md#132-environment-configuration)
  - [14. Deployment Architecture](./14-deployment-architecture.md)
    - [14.1 Deployment Strategy](./14-deployment-architecture.md#141-deployment-strategy)
    - [14.2 CI/CD Pipeline](./14-deployment-architecture.md#142-cicd-pipeline)
    - [14.3 Environments](./14-deployment-architecture.md#143-environments)
  - [15. Security and Performance](./15-security-and-performance.md)
    - [15.1 Security Requirements](./15-security-and-performance.md#151-security-requirements)
    - [15.2 Performance Requirements](./15-security-and-performance.md#152-performance-requirements)
  - [16. Testing Strategy](./16-testing-strategy.md)
  - [17. Coding Standards](./17-coding-standards.md)
  - [18. Error Handling Strategy](./18-error-handling-strategy.md)
  - [19. Monitoring and Observability](./19-monitoring-and-observability.md)
  - [20. Architect Checklist Results](./20-architect-checklist-results.md)
    - [Executive Summary](./20-architect-checklist-results.md#executive-summary)
    - [Section Pass Rates](./20-architect-checklist-results.md#section-pass-rates)
    - [Top Risks and Mitigation](./20-architect-checklist-results.md#top-risks-and-mitigation)
    - [Recommendations](./20-architect-checklist-results.md#recommendations)
    - [AI Implementation Readiness](./20-architect-checklist-results.md#ai-implementation-readiness)
    - [Conclusion](./20-architect-checklist-results.md#conclusion)
